{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
    .register_container{
    border-radius:20px;
    background-color:rgb(249, 247, 246);
    margin:10px;
    padding-bottom: 10px;
    margin-top: 100px;
   
    }
    .memberList{
      margin-top: 150px;
    }
    .table{
      margin-top: 50px;
    }
    .tableheader{
      position: fixed;
    }
    .header{
        font-family: Helvetica;
        padding-left: 10px;
        padding-top: 15px;
        height: 60px;
        color: rgb(45, 45, 43);
        font-size: 30px;
        background-color:rgb(194, 151, 194);
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }
    .input-group{
      width: 100%;
      margin-bottom: 10px;
  
    }
    .form-floating{
      width: 370px;
      margin: 10px;
    }
    .registeruserinputs{
      padding: 10px;
    }
    .button{
      margin-left:300px;
    }
    .search_box{
    
       width: 100%;
    max-width: 500px;
    margin: 0 auto;

    }
    .button2{
      margin-left: 10px;
    }
    .navbarpostion{
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      
    }
    .table-container{
      max-height: 400px;
      overflow-y: auto;
      margin-top: 40px;
    }
    .table thead th{
      position: sticky;
      top:0;
    }
    .btnEl{
      margin-left: auto;
    }
    
   
    </style>
  </head>
  <body>
    <div class="col-12 navbarpostion">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">LMS</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
            aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link active" href="{% url 'retriving_data_book' %}">Book Management</a>
            <a class="nav-link active" href="{% url 'retriving_data_member' %}">Member Management</a>
            <a class="nav-link active" href="{% url 'checkoutdata' %}">Checkout</a>
            <a class="nav-link active" href="{% url 'reports' %}">Reports</a>
          </div>
          <a href="{% url 'logout_page' %}" class="btnEl btn btn-danger">Logout</a>
        </div>
      </div>
    </nav>
    </div>
    <div class="container-fluid">
      <div class="row">
          <div class="col-md-4">
            <div class="register_container">
              <h1 class="header">Register user data</h1>
              <form action="{% url 'user_inserting_member' %}" method="POST">
              {% csrf_token %}
              {% if messages %}
                    <div class="alert alert-primary" role="alert">
                        {% for message in messages %}
                        {{ message }}
                        {% endfor %}
                    </div>
                    {% endif %}
                <div class="registeruserinputs">
              <div class="input-group flex-nowrap">
              <span class="input-group-text" id="addon-wrapping">Name :</span>
              <input type="text" class="form-control" placeholder="Username" name="name" aria-label="Username" aria-describedby="addon-wrapping">
              </div>
              <div class="input-group flex-nowrap">
              <span class="input-group-text" id="addon-wrapping">Email :</span>
              <input type="text" class="form-control" placeholder="User Email" name="email" aria-label="Username" aria-describedby="addon-wrapping">
              </div>
              <div class="input-group flex-nowrap">
              <span class="input-group-text" id="addon-wrapping">Phone :</span>
              <input type="text" class="form-control" placeholder="User phone no" name="phone" aria-label="Username" aria-describedby="addon-wrapping">
              </div>
              <div class="input-group flex-nowrap">
              <span class="input-group-text" id="addon-wrapping">Type :</span>
              <input type="text" class="form-control" placeholder="Usertype" name="type" aria-label="Username" aria-describedby="addon-wrapping">
              </div>
              <!-- <div class="form-floating">
              <textarea class="form-control" placeholder="Leave a comment here" name="Reference_text" id="floatingTextarea"></textarea>
              <label for="floatingTextarea">Address</label>
              </div> -->
              <button class="button btn btn-primary">Save</button>
              </div>
              <ul>
                <li>Must fill the all details</li>
                <li>Make sure the details are correct</li>
                <li>Thank you!</li>
              </ul>
              </form>
            </div>
        </div>
        <div class="col-md-8 memberList">
        <div class="search_box d-flex flex-row justify-content-center ">
        <form class="d-flex" role="search">
        <input class="form-control" type="search" placeholder="Search Reader" id="memberSearch" aria-label="Search"/>
        <button class="button2 btn btn-outline-success" id="searchBtn" type="submit">Search</button>
        </form>
        </div>
        <div class="table-container">
        <table class="table">
        <thead>
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Type</th>
          </tr>
        </thead>
        <tbody id="displayMember">
          <p class="d-none" id="noResult">
              
          </p>
          {% for i in members %}
        <tr>
          
          <td>{{i.id}}</td>
          <td>{{i.name}}</td>
          <td>{{i.email}}</td>
          <td>{{i.phone}}</td>
          <td>{{i.type}}</td>
        </tr>
        {% endfor %}
        </tbody>
        </table>
        </div>

    </div>

    </div>
    {{ members|json_script:"members-data" }}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="{% static 'member.js' %}"></script>
  </body>
</html>